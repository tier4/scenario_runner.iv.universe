<?xml version="1.0" ?>
<launch>
    <arg name="scenario_path" default="" />
    <arg name="log_output_dir" default=""/>
    <arg name="scenario_id" default=""/>
    <arg name="use_sim_time" default="false"/>
    <arg name="vehicle_model" default="lexus"/>
    <arg name="vehicle_param_file" default="$(find-pkg-share $(var vehicle_model)_description)/config/vehicle_info.param.yaml"/>

    <node pkg="scenario_runner" exec="scenario_runner_node" output="screen" >

        <param from="$(var vehicle_param_file)" />
        <param name="/use_sim_time" value="$(var use_sim_time)"/>

        <param name="scenario_id" value="$(var scenario_id)"/>
        <param name="scenario_path" value="$(var scenario_path)"/>
        <param name="log_output_path" value="$(var log_output_dir)/$(var scenario_id).json"/>
        <param name="json_dump_path" value="$(var log_output_dir)/result-of-$(var scenario_id).json"/>
        <param name="camera_frame_id" value="camera5/camera_optical_link" /> <!-- base link of front camera-->
        <param name="initial_engage_state" value="false"/>

        <param name="diagnostic_output_path" value="$(var log_output_dir)/$(var scenario_id)_diagnostic.json"/>

        <remap from="input/pointcloud" to="/sensing/lidar/no_ground/pointcloud" />
        <remap from="input/vectormap" to="/map/vector_map" />
        <remap from="input/route" to="/planning/mission_planning/route" />
        <remap from="input/autoware_state" to="/autoware/state" />
        <remap from="input/vehicle_twist" to="/vehicle/status/twist" />
        <remap from="input/signal_command" to="/vehicle/status/turn_signal" />
        <remap from="input/engage" to="/simulation/npc_simulator/engage" />
        <remap from="input/ego_vehicle_pose" to="/current_pose" />
        <remap from="output/start_point" to="/initialpose" />
        <remap from="output/initial_velocity" to="/initialtwist" />
        <remap from="output/goal_point" to="/planning/mission_planning/goal" />
        <remap from="output/check_point" to="/planning/mission_planning/checkpoint" />
        <remap from="output/autoware_engage" to="/autoware/engage" />
        <remap from="output/simulator_engage" to="/vehicle/engage" />
        <remap from="output/npc_simulator_engage" to="/simulation/npc_simulator/engage" />
        <remap from="output/limit_velocity" to="/planning/scenario_planning/max_velocity" />
        <remap from="output/object_info" to="/simulation/npc_simulator/object_info" />
        <remap from="output/traffic_detection_result" to="/perception/traffic_light_recognition/traffic_light_states" />
        <remap from="output/lane_change_permission" to="/planning/scenario_planning/lane_driving/lane_change_approval" />
        <remap from="output/dynamic_object_info" to="/simulation/dummy_perception_publisher/object_info" />
        <remap from="output/debug_object_info" to="/simulation/npc_simulator/ground_truth_object_info" />
    </node>

</launch>
